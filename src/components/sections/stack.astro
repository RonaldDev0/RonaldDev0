---
import { Image } from 'astro:assets'
import { Card, CardHeader, CardTitle, CardContent } from '@/components/ui/card'

type IStack = {
  title: string,
  stack: {
    name: string,
    img: string
  }[]
}

const stacks: IStack[] = [
  {
    title: 'Frontend',
    stack: [
      { name: 'HTML', img: '/stack/frontend/html5.svg' },
      { name: 'CSS', img: '/stack/frontend/css_old.svg' },
      { name: 'JavaScript', img: '/stack/frontend/javascript.svg' },
      { name: 'TypeScript', img: '/stack/frontend/typescript.svg' },
      { name: 'React', img: '/stack/frontend/react_dark.svg' },
      { name: 'TailwindCSS', img: '/stack/frontend/tailwindcss.svg' },
      { name: 'Zustand', img: '/stack/frontend/zustand.svg' },
      { name: 'Flutter', img: '/stack/frontend/flutter.svg' },
      { name: 'React Native', img: '/stack/frontend/react_dark.svg' },
      { name: 'Expo', img: '/stack/frontend/expo.svg' }

    ]
  },
  {
    title: 'Backend',
    stack: [
      { name: 'NodeJS', img: '/stack/backend/nodejs.svg' },
      { name: 'Bun', img: '/stack/backend/bun.svg' },
      { name: 'NextJS', img: '/stack/backend/nextjs_icon_dark.svg' },
      { name: 'Supabase', img: '/stack/backend/supabase.svg' },
      { name: 'Mercado Pago', img: '/stack/backend/mercado-pago.svg' },
      { name: 'PostgreSQL', img: '/stack/backend/postgresql.svg' },
      { name: 'Python', img: '/stack/backend/python.svg' }
    ]
  },
  {
    title: 'Tools',
    stack: [
      { name: 'Git', img: '/stack/tools/git.svg' },
      { name: 'GitHub', img: '/stack/tools/github-dark.svg' },
      { name: 'Terminal', img: '/stack/tools/bash_dark.svg' },
      { name: 'VSCode', img: '/stack/tools/vscode.svg' },
      { name: 'Postman', img: '/stack/tools/postman.svg' },
      { name: 'Windows', img: '/stack/tools/windows.svg' },
      { name: 'Linux', img: '/stack/tools/linux.svg' },
      { name: 'Vercel', img: '/stack/tools/vercel_dark.svg' }
    ]
  },
  {
    title: 'Learning',
    stack: [
      { name: 'Redis', img: '/stack/learning/redis.svg' },
      { name: 'AWS', img: '/stack/learning/aws_dark.svg' },
      { name: 'AI', img: '/stack/learning/ollama_dark.svg' },
      { name: 'Rust', img: '/stack/learning/rust_dark.svg' }
    ]
  }
]
---

<section id='stack' aria-label='stack' class='space-y-8 sm:space-y-12'>
  <div class='text-center'>
    <h2 class='text-3xl sm:text-4xl lg:text-5xl font-bold'>Tech Stack</h2>
  </div>
  <div class='grid grid-cols-1 lg:grid-cols-2 gap-6 sm:gap-8'>
    {stacks.map(({ title, stack }) => (
      <Card className='hover:shadow-lg transition-all duration-300'>
        <CardHeader>
          <CardTitle>
            <h3 class='text-xl sm:text-2xl font-bold'>{title}</h3>
          </CardTitle>
        </CardHeader>
        <CardContent>
          <div class='grid grid-cols-3 sm:grid-cols-4 lg:grid-cols-5 gap-4 sm:gap-6'>
            {stack.map(({ name, img }) => (
              <div class='text-center flex flex-col items-center justify-center gap-2 group'>
                <div class='w-16 h-16 flex items-center justify-center mb-1 bg-transparent'>
                  <Image
                    src={img}
                    alt={name}
                    width='48'
                    height='48'
                    class='transition-transform duration-200 group-hover:scale-110 max-h-12 max-w-12'
                  />
                </div>
                <p class='text-xs sm:text-sm font-medium text-muted-foreground group-hover:text-foreground transition-colors duration-200 leading-tight min-h-[1.75rem] flex items-center justify-center'>{name}</p>
              </div>
            ))}
          </div>
        </CardContent>
      </Card>
    ))}
  </div>
</section>