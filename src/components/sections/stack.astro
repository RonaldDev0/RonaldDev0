---
import { Image } from 'astro:assets'
import { Card, CardHeader, CardTitle, CardContent } from '@/components/ui/card'

// Import frontend images
import html5Icon from '../../assets/stack/frontend/html5.svg'
import cssIcon from '../../assets/stack/frontend/css_old.svg'
import javascriptIcon from '../../assets/stack/frontend/javascript.svg'
import typescriptIcon from '../../assets/stack/frontend/typescript.svg'
import reactIcon from '../../assets/stack/frontend/react_dark.svg'
import tailwindIcon from '../../assets/stack/frontend/tailwindcss.svg'
import zustandIcon from '../../assets/stack/frontend/zustand.svg'
import flutterIcon from '../../assets/stack/frontend/flutter.svg'
import expoIcon from '../../assets/stack/frontend/expo.svg'

// Import backend images
import nodejsIcon from '../../assets/stack/backend/nodejs.svg'
import bunIcon from '../../assets/stack/backend/bun.svg'
import nextjsIcon from '../../assets/stack/backend/nextjs_icon_dark.svg'
import supabaseIcon from '../../assets/stack/backend/supabase.svg'
import mercadoPagoIcon from '../../assets/stack/backend/mercado-pago.svg'
import postgresqlIcon from '../../assets/stack/backend/postgresql.svg'
import pythonIcon from '../../assets/stack/backend/python.svg'

// Import tools images
import gitIcon from '../../assets/stack/tools/git.svg'
import githubIcon from '../../assets/stack/tools/github-dark.svg'
import bashIcon from '../../assets/stack/tools/bash_dark.svg'
import vscodeIcon from '../../assets/stack/tools/vscode.svg'
import postmanIcon from '../../assets/stack/tools/postman.svg'
import windowsIcon from '../../assets/stack/tools/windows.svg'
import linuxIcon from '../../assets/stack/tools/linux.svg'
import vercelIcon from '../../assets/stack/tools/vercel_dark.svg'

// Import learning images
import redisIcon from '../../assets/stack/learning/redis.svg'
import awsIcon from '../../assets/stack/learning/aws_dark.svg'
import ollamaIcon from '../../assets/stack/learning/ollama_dark.svg'
import rustIcon from '../../assets/stack/learning/rust_dark.svg'

type IStack = {
  title: string,
  stack: {
    name: string,
    img: any
  }[]
}

const stacks: IStack[] = [
  {
    title: 'Frontend',
    stack: [
      { name: 'HTML', img: html5Icon },
      { name: 'CSS', img: cssIcon },
      { name: 'JavaScript', img: javascriptIcon },
      { name: 'TypeScript', img: typescriptIcon },
      { name: 'React', img: reactIcon },
      { name: 'TailwindCSS', img: tailwindIcon },
      { name: 'Zustand', img: zustandIcon },
      { name: 'Flutter', img: flutterIcon },
      { name: 'React Native', img: reactIcon },
      { name: 'Expo', img: expoIcon }

    ]
  },
  {
    title: 'Backend',
    stack: [
      { name: 'NodeJS', img: nodejsIcon },
      { name: 'Bun', img: bunIcon },
      { name: 'NextJS', img: nextjsIcon },
      { name: 'Supabase', img: supabaseIcon },
      { name: 'Mercado Pago', img: mercadoPagoIcon },
      { name: 'PostgreSQL', img: postgresqlIcon },
      { name: 'Python', img: pythonIcon }
    ]
  },
  {
    title: 'Tools',
    stack: [
      { name: 'Git', img: gitIcon },
      { name: 'GitHub', img: githubIcon },
      { name: 'Terminal', img: bashIcon },
      { name: 'VSCode', img: vscodeIcon },
      { name: 'Postman', img: postmanIcon },
      { name: 'Windows', img: windowsIcon },
      { name: 'Linux', img: linuxIcon },
      { name: 'Vercel', img: vercelIcon }
    ]
  },
  {
    title: 'Learning',
    stack: [
      { name: 'Redis', img: redisIcon },
      { name: 'AWS', img: awsIcon },
      { name: 'AI', img: ollamaIcon },
      { name: 'Rust', img: rustIcon }
    ]
  }
]
---

<section id='stack' aria-label='stack' class='space-y-8 sm:space-y-12'>
  <div class='text-center'>
    <h2 class='text-3xl sm:text-4xl lg:text-5xl font-bold'>Tech Stack</h2>
  </div>
  <div class='grid grid-cols-1 lg:grid-cols-2 gap-6 sm:gap-8'>
    {stacks.map(({ title, stack }) => (
      <Card className='hover:shadow-lg transition-all duration-300'>
        <CardHeader>
          <CardTitle>
            <h3 class='text-xl sm:text-2xl font-bold'>{title}</h3>
          </CardTitle>
        </CardHeader>
        <CardContent>
          <div class='grid grid-cols-3 sm:grid-cols-4 lg:grid-cols-5 gap-4 sm:gap-6'>
            {stack.map(({ name, img }) => (
              <div class='text-center flex flex-col items-center justify-center gap-2 group'>
                <div class='w-16 h-16 flex items-center justify-center mb-1 bg-transparent'>
                  <Image
                    src={img}
                    alt={name}
                    width='48'
                    height='48'
                    class='transition-transform duration-200 group-hover:scale-110 max-h-12 max-w-12'
                    loading='lazy'
                  />
                </div>
                <p class='text-xs sm:text-sm font-medium text-muted-foreground group-hover:text-foreground transition-colors duration-200 leading-tight min-h-[1.75rem] flex items-center justify-center'>{name}</p>
              </div>
            ))}
          </div>
        </CardContent>
      </Card>
    ))}
  </div>
</section>